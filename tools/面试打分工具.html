<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>测试评分表</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
      body {
        font-family: Arial, sans-serif;
        padding: 20px;
        background-color: #f4f4f4;
      }
      .container {
        margin: 0 auto;
        max-width: 800px;
        background: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
      }
      .total-score {
        position: fixed;
        top: 20px;
        right: 20px;
        background: #ff5722;
        color: white;
        padding: 10px 20px;
        font-size: 20px;
        font-weight: bold;
        border-radius: 5px;
      }
      .section {
        margin-bottom: 20px;
      }
      .section h3 {
        margin-bottom: 10px;
        color: #333;
      }
      .item {
        display: flex;
        align-items: center;
        margin-bottom: 10px;
      }
      .item label {
        flex: 1;
      }
      .score-container {
        display: flex;
        gap: 5px;
      }
      .score-container input[type="radio"] {
        display: none;
      }
      .score-container label {
        cursor: pointer;
        padding: 5px 10px;
        background: #ddd;
        border-radius: 4px;
      }
      .score-container input[type="radio"]:checked + label {
        background: #ff5722;
        color: white;
      }
      .score-container input[type="number"] {
        width: 50px;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <div class="total-score">总分: <span id="total">0</span></div>
    <div class="container">
      <h2>测试评分表</h2>
      <form id="score-form">
        <div class="section">
          <h3>测试流程（8 分）</h3>
          <div class="item">
            <label>是否熟悉完整的测试生命周期（2.5 分）</label>
            <div class="score-container">
              <input type="radio" name="score1" value="0" id="s1-0" checked />
              <label for="s1-0">0</label>
              <input type="radio" name="score1" value="0.5" id="s1-1" />
              <label for="s1-1">0.5</label>
              <input type="radio" name="score1" value="1" id="s1-2" />
              <label for="s1-2">1</label>
              <input type="radio" name="score1" value="1.5" id="s1-3" />
              <label for="s1-3">1.5</label>
              <input type="radio" name="score1" value="2" id="s1-4" />
              <label for="s1-4">2</label>
              <input type="radio" name="score1" value="2.5" id="s1-5" />
              <label for="s1-5">2.5</label>
              <input
                type="number"
                name="score1"
                min="0"
                max="2.5"
                step="0.1"
                value="0"
              />
            </div>
          </div>
          <div class="item">
            <label>是否能清晰阐述自己在测试流程中的实际经验（3 分）</label>
            <div class="score-container">
              <input type="radio" name="score2" value="0" id="s2-0" checked />
              <label for="s2-0">0</label>
              <input type="radio" name="score2" value="0.5" id="s2-1" />
              <label for="s2-1">0.5</label>
              <input type="radio" name="score2" value="1" id="s2-2" />
              <label for="s2-2">1</label>
              <input type="radio" name="score2" value="1.5" id="s2-3" />
              <label for="s2-3">1.5</label>
              <input type="radio" name="score2" value="2" id="s2-4" />
              <label for="s2-4">2</label>
              <input type="radio" name="score2" value="2.5" id="s2-5" />
              <label for="s2-5">2.5</label>
              <input type="radio" name="score2" value="3" id="s2-6" />
              <label for="s2-6">3</label>
              <input
                type="number"
                name="score2"
                min="0"
                max="3"
                step="0.1"
                value="0"
              />
            </div>
          </div>
          <div class="item">
            <label>是否有优化测试流程的思考和经验（2.5 分）</label>
            <div class="score-container">
              <input type="radio" name="score3" value="0" id="s3-0" checked />
              <label for="s3-0">0</label>
              <input type="radio" name="score3" value="0.5" id="s3-1" />
              <label for="s3-1">0.5</label>
              <input type="radio" name="score3" value="1" id="s3-2" />
              <label for="s3-2">1</label>
              <input type="radio" name="score3" value="1.5" id="s3-3" />
              <label for="s3-3">1.5</label>
              <input type="radio" name="score3" value="2" id="s3-4" />
              <label for="s3-4">2</label>
              <input type="radio" name="score3" value="2.5" id="s3-5" />
              <label for="s3-5">2.5</label>
              <input
                type="number"
                name="score3"
                min="0"
                max="2.5"
                step="0.1"
                value="0"
              />
            </div>
          </div>
        </div>
        <!-- 继续添加其他评分项 -->
      </form>
    </div>
    <script>
      $(document).ready(function () {
        function updateTotal() {
          let total = 0;
          $(".score-container input:checked").each(function () {
            total += parseFloat($(this).val()) || 0;
          });
          $(".score-container input[type='number']").each(function () {
            let val = parseFloat($(this).val());
            if (val > 0) {
              total += val;
            }
          });
          $("#total").text(total.toFixed(1));
        }

        $(".score-container input").on("change", function () {
          updateTotal();
        });

        $(".score-container input[type='number']").on("input", function () {
          if (parseFloat($(this).val()) < 0) {
            $(this).val(0);
          }
          updateTotal();
        });

        updateTotal(); // 初始化计算
      });
    </script>
  </body>
</html>
