<!DOCTYPE html>
<html lang="e1n">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      div {
        width: 100px;
        height: 100px;
        background-color: red;
        position: absolute;
      }
    </style>
  </head>
  <body>
    <div></div>

    <script>
      var div = document.querySelector("div");
      function begin({ speedX = 10, speedY = 10, times = 10 }) {
        var maxY = document.documentElement.scrollHeight - div.offsetHeight;
        var maxX = document.documentElement.scrollWidth - div.offsetWidth;
        var speedY = 6;
        var speedX = (maxX - div.offsetLeft) / 50;
        const times = 50;
        //  时刻判断
        timer = setInterval(() => {
          var x = div.offsetLeft;
          var y = div.offsetTop;
          //   左边距 右边距 决定初始速度方向
          if (speedX > 0) {
            speedX = (maxX - x) / 10;
          } else {
            speedX = -x / 10;
          }
          if (speedX > 0) {
            speedX = Math.ceil(speedX);
          } else {
            speedX = Math.floor(speedX);
          }
          //   判断边距，重新决定速度
          if (x <= 0) {
            speedX = maxX / 10;
          } else if (x >= maxX) {
            speedX = -x / 10;
          }

          //   上边距 下边距
          if (speedY > 0) {
            speedY = (maxY - y) / 10;
          } else {
            speedY = -y / 10;
          }
          if (speedY > 0) {
            speedY = Math.ceil(speedY);
          } else {
            speedY = Math.floor(speedY);
          }
          // 判断边距，重新决定速度
          if (y <= 0) {
            speedY = maxY / 10;
          } else if (y >= maxY) {
            speedY = -y / 10;
          }
          console.log(speedY);

          //  赋值 最终应该是多少的距离，位置
          div.style.left = x + speedX + "px";
          div.style.top = y + speedY + "px";
        }, 40);
      }
      begin();
    </script>
  </body>
</html>
