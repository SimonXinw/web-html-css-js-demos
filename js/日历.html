<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>简约日历 - 优化版</title>
  <style>
    /* 重置样式 */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      list-style: none;
    }

    body {
      font-family: 'Microsoft YaHei', Arial, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* 日历容器 */
    .calendar-container {
      width: 320px;
      background: rgba(255, 255, 255, 0.95);
      border-radius: 15px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      overflow: hidden;
      backdrop-filter: blur(10px);
    }

    /* 日历头部 */
    .calendar-header {
      background: linear-gradient(45deg, #2c3e50, #34495e);
      color: white;
      padding: 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .nav-button {
      width: 40px;
      height: 40px;
      border: none;
      background: rgba(255, 255, 255, 0.2);
      color: white;
      border-radius: 50%;
      cursor: pointer;
      font-size: 18px;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .nav-button:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: scale(1.1);
    }

    .current-month {
      font-size: 18px;
      font-weight: 600;
      text-align: center;
      flex: 1;
    }

    /* 星期标题 */
    .weekdays {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      background: #f8f9fa;
      border-bottom: 1px solid #e9ecef;
    }

    .weekday {
      padding: 15px 5px;
      text-align: center;
      font-weight: 600;
      color: #495057;
      font-size: 14px;
    }

    .weekday.weekend {
      color: #dc3545;
    }

    /* 日期网格 */
    .days-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      background: white;
    }

    .day-cell {
      aspect-ratio: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      color: #495057;
      cursor: pointer;
      transition: all 0.2s ease;
      border: 1px solid transparent;
      position: relative;
    }

    .day-cell:hover {
      background: #e3f2fd;
      transform: scale(1.05);
    }

    /* 当前月份的日期 */
    .day-cell.current-month {
      color: #212529;
      font-weight: 500;
    }

    /* 其他月份的日期 */
    .day-cell.other-month {
      color: #adb5bd;
      font-weight: 300;
    }

    /* 今天的样式 */
    .day-cell.today {
      background: linear-gradient(45deg, #667eea, #764ba2);
      color: white;
      font-weight: 700;
      border-radius: 8px;
    }

    .day-cell.today:hover {
      transform: scale(1.1);
      box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
    }

    /* 周末样式 */
    .day-cell.weekend {
      color: #dc3545;
    }

    .day-cell.weekend.current-month {
      color: #dc3545;
      font-weight: 600;
    }
  </style>
</head>

<body>
  <div class="calendar-container">
    <!-- 日历头部：导航和当前月份显示 -->
    <div class="calendar-header">
      <button class="nav-button" id="prevMonth" title="上一月">‹</button>
      <div class="current-month" id="currentMonth"></div>
      <button class="nav-button" id="nextMonth" title="下一月">›</button>
    </div>

    <!-- 星期标题行 -->
    <div class="weekdays">
      <div class="weekday weekend">日</div>
      <div class="weekday">一</div>
      <div class="weekday">二</div>
      <div class="weekday">三</div>
      <div class="weekday">四</div>
      <div class="weekday">五</div>
      <div class="weekday weekend">六</div>
    </div>

    <!-- 日期网格 -->
    <div class="days-grid" id="daysGrid"></div>
  </div>

  <script>
    /**
     * 简约日历类 - 负责管理日历的所有功能
     */
    class SimpleCalendar {
      constructor() {
        // 获取DOM元素
        this.currentMonthElement = document.getElementById('currentMonth');
        this.daysGridElement = document.getElementById('daysGrid');
        this.prevButton = document.getElementById('prevMonth');
        this.nextButton = document.getElementById('nextMonth');

        // 当前显示的日期
        this.currentDate = new Date();
        this.today = new Date(); // 保存今天的日期，用于高亮显示

        // 月份名称数组
        this.monthNames = [
          '一月', '二月', '三月', '四月', '五月', '六月',
          '七月', '八月', '九月', '十月', '十一月', '十二月'
        ];

        // 初始化日历
        this.init();
      }

      /**
       * 初始化日历 - 绑定事件监听器并渲染当前月份
       */
      init() {
        this.bindEvents();
        this.render();
      }

      /**
       * 绑定事件监听器
       */
      bindEvents() {
        this.prevButton.addEventListener('click', () => this.navigateMonth(-1));
        this.nextButton.addEventListener('click', () => this.navigateMonth(1));
      }

      /**
       * 导航到指定月份
       * @param {number} direction - 方向：-1表示上一月，1表示下一月
       */
      navigateMonth(direction) {
        this.currentDate.setMonth(this.currentDate.getMonth() + direction);
        this.render();
      }

      /**
       * 获取指定月份的信息
       * @param {Date} date - 目标日期
       * @returns {Object} 包含月份信息的对象
       */
      getMonthInfo(date) {
        const year = date.getFullYear();
        const month = date.getMonth();

        // 当月第一天
        const firstDay = new Date(year, month, 1);
        // 当月最后一天
        const lastDay = new Date(year, month + 1, 0);
        // 当月第一天是星期几（0=周日，1=周一，...，6=周六）
        const firstDayOfWeek = firstDay.getDay();
        // 当月有多少天
        const daysInMonth = lastDay.getDate();

        // 上个月的最后一天
        const prevMonthLastDay = new Date(year, month, 0).getDate();

        return {
          year,
          month,
          firstDayOfWeek,
          daysInMonth,
          prevMonthLastDay
        };
      }

      /**
       * 检查两个日期是否是同一天
       * @param {Date} date1 - 第一个日期
       * @param {Date} date2 - 第二个日期
       * @returns {boolean} 是否是同一天
       */
      isSameDay(date1, date2) {
        return date1.getFullYear() === date2.getFullYear() &&
          date1.getMonth() === date2.getMonth() &&
          date1.getDate() === date2.getDate();
      }

      /**
       * 创建日期单元格
       * @param {number} day - 日期数字
       * @param {string} type - 单元格类型：'prev'(上月), 'current'(当月), 'next'(下月)
       * @param {number} month - 月份
       * @param {number} year - 年份
       * @returns {HTMLElement} 日期单元格元素
       */
      createDayCell(day, type, month, year) {
        const cell = document.createElement('div');
        cell.className = 'day-cell';
        cell.textContent = day;

        // 添加类型样式
        if (type === 'current') {
          cell.classList.add('current-month');
        } else {
          cell.classList.add('other-month');
        }

        // 创建完整的日期对象用于比较
        let cellDate;
        if (type === 'prev') {
          cellDate = new Date(year, month - 1, day);
        } else if (type === 'next') {
          cellDate = new Date(year, month + 1, day);
        } else {
          cellDate = new Date(year, month, day);
        }

        // 检查是否是今天
        if (this.isSameDay(cellDate, this.today)) {
          cell.classList.add('today');
        }

        // 检查是否是周末（星期六或星期日）
        const dayOfWeek = cellDate.getDay();
        if (dayOfWeek === 0 || dayOfWeek === 6) {
          cell.classList.add('weekend');
        }

        return cell;
      }

      /**
       * 渲染日历
       */
      render() {
        // 更新月份显示
        this.updateMonthDisplay();

        // 清空日期网格
        this.daysGridElement.innerHTML = '';

        // 获取当前月份信息
        const monthInfo = this.getMonthInfo(this.currentDate);
        const { year, month, firstDayOfWeek, daysInMonth, prevMonthLastDay } = monthInfo;

        // 渲染上个月的尾部日期（填充前面的空白）
        for (let i = firstDayOfWeek - 1; i >= 0; i--) {
          const day = prevMonthLastDay - i;
          const cell = this.createDayCell(day, 'prev', month, year);
          this.daysGridElement.appendChild(cell);
        }

        // 渲染当前月份的所有日期
        for (let day = 1; day <= daysInMonth; day++) {
          const cell = this.createDayCell(day, 'current', month, year);
          this.daysGridElement.appendChild(cell);
        }

        // 渲染下个月的开头日期（填充后面的空白，确保总共42个格子）
        const cellsRendered = firstDayOfWeek + daysInMonth;
        const remainingCells = 42 - cellsRendered; // 6行 × 7列 = 42个格子

        for (let day = 1; day <= remainingCells; day++) {
          const cell = this.createDayCell(day, 'next', month, year);
          this.daysGridElement.appendChild(cell);
        }
      }

      /**
       * 更新月份显示
       */
      updateMonthDisplay() {
        const year = this.currentDate.getFullYear();
        const month = this.currentDate.getMonth();
        this.currentMonthElement.textContent = `${year}年 ${this.monthNames[month]}`;
      }
    }

    // 页面加载完成后初始化日历
    document.addEventListener('DOMContentLoaded', function () {
      new SimpleCalendar();
    });
  </script>
</body>

</html>