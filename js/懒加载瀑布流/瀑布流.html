<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        list-style: none;
      }
      .wrap {
        overflow: hidden;
        width: 1200px;
        margin: 0 auto;
      }
      .wrap ul {
        float: left;
        width: 220px;
        margin-right: 24px;
      }
      .wrap .no-right {
        margin-right: 0;
      }
      .wrap ul li {
        margin-bottom: 24px;
        border-radius: 10px;
        overflow: hidden;
      }
      .wrap ul li img {
        width: 220px;
        display: block;
      }
    </style>
  </head>
  <body>
    <div class="wrap">
      <ul>
        <!-- <li><img src="images/1.png" alt=""></li>
        <li><img src="images/2.png" alt=""></li>
        <li><img src="images/3.png" alt=""></li> -->
      </ul>
      <ul>
        <!-- <li><img src="images/4.png" alt=""></li>
        <li><img src="images/5.png" alt=""></li>
        <li><img src="images/6.png" alt=""></li> -->
      </ul>
      <ul>
        <!-- <li><img src="images/7.png" alt=""></li>
        <li><img src="images/8.png" alt=""></li>
        <li><img src="images/9.png" alt=""></li> -->
      </ul>
      <ul>
        <!-- <li><img src="images/10.png" alt=""></li>
        <li><img src="images/11.png" alt=""></li>
        <li><img src="images/12.png" alt=""></li> -->
      </ul>
      <ul class="no-right">
        <!-- <li><img src="images/13.png" alt=""></li>
        <li><img src="images/14.png" alt=""></li>
        <li><img src="images/15.png" alt=""></li> -->
      </ul>
    </div>

    <script>
      var ulsDom = document.querySelectorAll('.wrap ul');

      const loadImg = (times = 30) => {
        // 动态传参遍历
        Array(times)
          .fill(1)
          ?.forEach(() => {
            // 找出高度最小的那一列然后赋值
            const ulHeightArr = Object.values(ulsDom)?.map((ul) => {
              return ul?.clientHeight;
            });

            const minHeight = ulHeightArr?.reduce((pre, cur) =>
              pre < cur ? pre : cur
            );

            const minIndex = ulHeightArr?.indexOf(minHeight); // 找出数组中最小高度元素的下标

            const minCol = ulsDom[minIndex]; // NodeList 通过 index 取出对应的 Dom

            var num = Math.ceil(Math.random() * 35); // 1-35

            const newLi = document.createElement('li');

            newLi.innerHTML = '<img src="images/' + num + '.png" alt="">';

            minCol?.appendChild(newLi); //添加图片节点
          });
      };

      /**
       * @window加载成功
       */
      window.onload = function () {
        loadImg(35); //进入页面加载一批图片
      };
    </script>
  </body>
</html>
