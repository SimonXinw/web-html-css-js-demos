<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>3D Cube</title>
  <style>
    /* 立方体的整体容器 */
    .scene {
      width: 200px;
      height: 200px;
      perspective: 600px;
      /* 增加透视效果 */
      display: flex;
      justify-content: center;
      align-items: center;
    }

    /* 立方体容器 */
    .cube {
      position: relative;
      width: 100px;
      height: 100px;
      transform-style: preserve-3d;
      /* 启用 3D 效果 */
      animation: rotate 6s infinite linear;
      /* 旋转动画 */
    }

    /* 立方体的每个面 */
    .face {
      position: absolute;
      width: 100px;
      height: 100px;
      background: rgba(0, 128, 255, 0.7);
      /* 设置默认背景颜色 */
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 20px;
      color: #fff;
    }

    /* 定义每个面的颜色和位置 */
    .front {
      transform: translateZ(50px);
      background: rgba(255, 0, 0, 0.7);
    }

    .back {
      transform: rotateY(180deg) translateZ(50px);
      background: rgba(0, 255, 0, 0.7);
    }

    .left {
      transform: rotateY(-90deg) translateZ(50px);
      background: rgba(0, 0, 255, 0.7);
    }

    .right {
      transform: rotateY(90deg) translateZ(50px);
      background: rgba(255, 255, 0, 0.7);
    }

    .top {
      transform: rotateX(90deg) translateZ(50px);
      background: rgba(255, 0, 255, 0.7);
    }

    .bottom {
      transform: rotateX(-90deg) translateZ(50px);
      background: rgba(0, 255, 255, 0.7);
    }

    /* 添加旋转动画 */
    @keyframes rotate {
      0% {
        transform: rotateX(0deg) rotateY(0deg);
      }

      100% {
        transform: rotateX(360deg) rotateY(360deg);
      }
    }
  </style>
</head>

<body>
  <div style="padding: 20px; font-family: Arial, sans-serif;">
    <h1>CSS 3D 立方体动画演示</h1>
    <div style="margin-bottom: 20px; line-height: 1.8;">
      <h3>面试问题：</h3>
      <p>
        <strong>1. perspective 和 transform-style: preserve-3d 的作用是什么？缺少任何一个会怎样？</strong>
        <br />
        <!-- 答案: -->
        <!-- 
            perspective 用于给 3D 场景添加透视效果，让近大远小的视觉更真实。通常加在父容器（如 .scene）上。
            transform-style: preserve-3d 让子元素保留 3D 变换（即每个面能处于三维空间，默认是 flat 展平成二维）。
            缺少 perspective 就没有立体感，所有面看起来像平面叠加；缺少 preserve-3d 所有子元素的 3D 效果都被压成一个平面。
          -->
      </p>
      <p>
        <strong>2. 为什么每个面都要用 translateZ(50px)？这个 50px 是怎么计算出来的？</strong>
        <br />
        <!-- 答案: -->
        <!-- 
            这样让每个面离立方体中心的距离为"半个边长"，假设边长是 100px，则每个面都在距中心正负 50px 的位置拼成立方体。
            translateZ(50px) 就是立方体边长 / 2。这样刚好把六个面拼成立体方盒。
          -->
      </p>
      <p>
        <strong>3. 如果要做一个 200px 的立方体，每个面的 transform 应该怎么写？</strong>
        <br />
        <!-- 答案: -->
        <!-- 
            200px 边长时，translateZ(100px)（因为 200/2=100）：
            .front  transform: translateZ(100px);
            .back   transform: rotateY(180deg) translateZ(100px);
            .left   transform: rotateY(-90deg) translateZ(100px);
            .right  transform: rotateY(90deg) translateZ(100px);
            .top    transform: rotateX(90deg) translateZ(100px);
            .bottom transform: rotateX(-90deg) translateZ(100px);
          -->
      </p>
      <p>
        <strong>4. rotateY(180deg) translateZ(50px) 和 translateZ(50px) rotateY(180deg) 效果一样吗？为什么？</strong>
        <br />
        <!-- 答案: -->
        <!--
            不一样。CSS transform 是按顺序执行的。
            rotateY(180deg) translateZ(50px)：先旋转再拉远，即沿 Y 旋转后再推到屏幕外 50px。
            translateZ(50px) rotateY(180deg)：先拉远再旋转，相当于远处的面旋转回来。
            视觉效果完全不同。
          -->
      </p>
      <p>
        <strong>5. 如何让立方体跟随鼠标移动而旋转（交互式 3D）？</strong>
        <br />
        <!-- 答案: -->
        <!--
            监听 mousemove（或 pointermove）事件，根据鼠标坐标映射 rotateX/rotateY 值，动态设置 .cube 的 transform：
            例如：
              document.addEventListener("mousemove", e => {
                const rotX = (e.clientY / window.innerHeight - 0.5) * 360;
                const rotY = (e.clientX / window.innerWidth - 0.5) * 360;
                cube.style.transform = `rotateX(${rotX}deg) rotateY(${rotY}deg)`;
              });
          -->
      </p>
      <p>
        <strong>6. 如何优化 3D 动画性能？will-change 应该怎么用？</strong>
        <br />
        <!-- 答案: -->
        <!--
            优化手段：1) 用 transform/opacity 实现动画，避免布局/重绘。
            2) 给 .cube 加 will-change: transform;，提示浏览器提前优化复合层。
            比如：
              .cube { will-change: transform; }
            注意：不要无限制对太多元素用 will-change，否则反而会浪费资源。
          -->
      </p>
      <p>
        <strong>7. 如何实现立方体的每个面贴上不同的图片？</strong>
        <br />
        <!-- 答案: -->
        <!--
            给每个 .face 元素单独设置 background-image 或 <img> 子元素，用绝对定位和 cover 适配。
            例如：
              .front { background-image: url(front.png); background-size: cover; }
              .back  { background-image: url(back.png); ... }
              ...
          -->
      </p>
      <p>
        <strong>8. backface-visibility 属性的作用是什么？什么时候需要用？</strong>
        <br />
        <!-- 答案: -->
        <!--
            backface-visibility: hidden 表示背面朝向用户时不显示该面，可避免背面文字/图片穿帮反转。
            适用于需要透明或者只让正面可见的 3D 元素，例如卡片翻转动画。
            默认值是 visible，背面会显示（看起来倒过来）。
          -->
      </p>
    </div>
  </div>

  <div style="display: flex; justify-content: center;">
    <div class="scene">
      <div class="cube">
        <div class="face front">Front</div>
        <div class="face back">Back</div>
        <div class="face left">Left</div>
        <div class="face right">Right</div>
        <div class="face top">Top</div>
        <div class="face bottom">Bottom</div>
      </div>
    </div>
  </div>

</body>

</html>