# 2026 年度项目规划

## 技术栈

| 层级 | 技术 |
| ---- | ---- |
| Frontend | Next.js 14+ (App Router)、React、Tailwind CSS |
| BFF | Node.js (Next.js API Routes / NestJS) |
| Backend | Java (Spring Boot)、Shopify Storefront API |
| CMS | Sanity |
| CI/CD | Vercel |
| Monorepo | Turborepo |

---

## 项目 1：Awolvision 无头化迁移（Q1，3 个月）

> 将 Awolvision 从 Shopify Liquid 迁移至 Next.js 无头架构

### 前端工作

| 任务 | 说明 | 周期 |
| ---- | ---- | ---- |
| 首页重构 | Next.js SSR/SSG 实现，SEO 优化 | W3-W4 |
| PDP 产品详情页 | 产品数据获取、变体选择、加购逻辑 | W5-W6 |
| Cart 购物车 | 购物车状态管理、数量增减、删除 | W6-W7 |
| Checkout 结账 | 对接 Shopify Checkout、支付流程 | W7-W8 |
| 账户中心 | 用户登录、订单查询、地址管理 | W8-W9 |
| URL 重定向 | 旧 URL 301 映射，Sitemap 生成 | W9-W10 |
| 组件库搭建 | 通用组件抽离，与 Valerion 共享 | 贯穿 |
| Sanity 基础配置 | Schema 定义、Studio 搭建 | W5-W6 |

### 后端工作（BFF + Java）

| 任务 | 说明 | 周期 |
| ---- | ---- | ---- |
| BFF 框架搭建 | Next.js API Routes 或 NestJS | W1-W2 |
| Shopify API 对接 | 产品、购物车、订单接口封装 | W2-W3 |
| Java 后台对接 | 配置数据、用户数据接口联调 | W3-W4 |
| 接口聚合层 | 统一 API 规范，屏蔽数据源差异 | W4-W5 |
| 缓存策略 | Redis/内存缓存，提升响应速度 | W6-W7 |
| Vercel 部署 | CI/CD 配置、Preview 环境、E2E 测试集成 | W1-W2 |

### 交付标准

- [ ] Lighthouse Performance > 90
- [ ] 旧 URL 301 重定向覆盖率 100%
- [ ] P95 响应时间 < 200ms
- [ ] 核心流程 E2E 测试覆盖

---

## 项目 2：Sanity 低代码活动搭建系统（Q2，3 个月）

> 让运营人员可以自助搭建活动页面，无需前端介入

### 前端工作

| 任务 | 说明 | 周期 |
| ---- | ---- | ---- |
| Hero 区块 | 大图横幅 + 标题 + CTA | W1 |
| ProductGrid 区块 | 产品网格展示 | W1-W2 |
| Timer 倒计时 | 活动倒计时组件 | W2 |
| FlashSale 区块 | 限时抢购列表 | W2-W3 |
| Banner 区块 | 促销横幅（带时间控制） | W3 |
| FAQ 区块 | 手风琴式 FAQ | W3 |
| Video 区块 | 视频嵌入（YouTube/自托管） | W4 |
| ImageGallery 区块 | 图片画廊/轮播 | W4-W5 |
| Testimonials 区块 | 用户评价轮播 | W5 |
| ProgressBar 区块 | 满赠进度条 | W5-W6 |
| CouponPopup 区块 | 优惠券弹窗 | W6 |
| GlobalSettings | 全站配置（TopBar + GlobalPopup） | W6-W7 |
| Visual Editing | Sanity Presentation Tool 集成 | W8-W10 |
| 动态路由 | 支持 Sanity 创建新页面路由 | W10-W12 |

### 后端工作

| 任务 | 说明 | 周期 |
| ---- | ---- | ---- |
| Sanity Webhook | 内容变更触发 ISR 更新 | W1 |
| 定时发布 API | Sanity Scheduled Publishing 配置 | W2-W3 |
| 时间控制逻辑 | 组件生效时间段判断 | W3-W4 |
| 预览 API | Draft Mode 实时预览接口 | W8-W9 |

### 交付标准

- [ ] 20+ 预制区块可用
- [ ] 运营可自助创建落地页
- [ ] 定时发布功能可用
- [ ] Visual Editing 所见即所得

---

## 项目 3：多语言多站点架构（Q3，3 个月）

> 建立可复用的国际化架构，支持快速上线新语言/新站点

### 前端工作

| 任务 | 说明 | 周期 |
| ---- | ---- | ---- |
| next-intl 集成 | 多语言路由、翻译文件管理 | W1-W2 |
| 语言切换组件 | 语言选择器、URL 切换 | W2-W3 |
| 货币切换 | 多货币显示、汇率转换 | W3-W4 |
| Monorepo 搭建 | Turborepo 配置、多 App 结构 | W4-W6 |
| 共享组件库 | packages/ui 抽离 | W6-W8 |
| 共享 Schema | packages/sanity-schemas 抽离 | W8-W10 |
| 新站点模板 | 快速复制脚手架 | W10-W12 |

### 后端工作

| 任务 | 说明 | 周期 |
| ---- | ---- | ---- |
| 路由中间件 | Edge Middleware，GeoIP 检测、语言路由 | W1-W3 |
| 多站点配置中心 | Feature Flags、站点配置管理 | W4-W6 |
| Sanity 多语言插件 | document-internationalization 配置 | W2-W4 |
| 翻译 API | 翻译内容接口、缓存策略 | W6-W8 |

### 交付标准

- [ ] 支持 ≥ 5 种语言
- [ ] 新站点搭建时间 < 2 周
- [ ] Monorepo 组件复用率 ≥ 50%

---

## 项目 4：新品牌站点上线（Q3-Q4）

> 基于工厂化体系快速上线新品牌站点

### 前端工作

| 任务 | 说明 | 周期 |
| ---- | ---- | ---- |
| 品牌 B 站点 | 复用 80% 组件，定制首页/PDP | 2-3 周 |
| 品牌 C 站点 | 复用模板，差异化配置 | 2-3 周 |
| 区域站点（德国） | 多语言 + 本地化 UI | 3-4 周 |
| 区域站点（法国） | 多语言 + 本地化 UI | 3-4 周 |
| 区域站点（日本） | 多语言 + 本地化 UI | 3-4 周 |

### 后端工作

| 任务 | 说明 | 周期 |
| ---- | ---- | ---- |
| 站点配置 | 新站点环境变量、API 配置 | 1 周 |
| 支付本地化 | 区域支付方式对接（如 Klarna、Alipay） | 2-3 周 |
| 物流本地化 | 区域物流接口对接 | 2-3 周 |

---

## 项目 5：运营赋能工具（Q4）

> 提升运营效率的工具集

### 5.1 A/B 测试平台

| 层级 | 任务 |
| ---- | ---- |
| 前端 | 组件级 A/B 渲染、流量分配逻辑、实验数据埋点 |
| 后端 | 实验配置 API、数据统计接口、结果分析 |

### 5.2 数据看板

| 层级 | 任务 |
| ---- | ---- |
| 前端 | 图表组件、实时数据展示 |
| 后端 | GA4 数据聚合、自定义埋点收集、数据 API |

### 5.3 全链路监控

| 层级 | 任务 |
| ---- | ---- |
| 前端 | Sentry 错误捕获、性能埋点 |
| 后端 | 日志聚合、告警配置、Vercel Analytics 集成 |

---

## 项目 6：技术优化（持续）

### 性能优化

| 层级 | 任务 |
| ---- | ---- |
| 前端 | 图片优化（next/image）、代码分割、懒加载 |
| 后端 | ISR 增量渲染、边缘缓存、API 响应优化 |

### Java 后台重构（按需）

| 任务 | 说明 |
| ---- | ---- |
| 接口性能优化 | 慢查询优化、索引优化 |
| 服务拆分 | 核心接口独立部署 |
| 容灾能力 | 熔断、降级、限流 |

---

## 项目 7：创新探索（P2/P3）

### 7.1 AI 客服助手

| 层级 | 任务 |
| ---- | ---- |
| 前端 | 聊天组件、消息流式渲染 |
| 后端 | OpenAI API 集成、对话上下文管理、产品知识库 |

### 7.2 个性化推荐

| 层级 | 任务 |
| ---- | ---- |
| 前端 | 推荐位组件、用户行为采集 |
| 后端 | 推荐算法、用户画像、推荐接口 |

### 7.3 PWA 支持

| 层级 | 任务 |
| ---- | ---- |
| 前端 | Service Worker、离线页面、App 图标 |
| 后端 | 推送通知 API、订阅管理 |

---

## 📅 时间线总览

| 季度 | 项目 | 核心交付 |
| ---- | ---- | -------- |
| **Q1** | Awolvision 无头化迁移 | 新架构上线 |
| **Q2** | Sanity 低代码系统 | 运营自助搭建活动页 |
| **Q3** | 多语言多站点架构 | Monorepo + i18n |
| **Q3-Q4** | 新品牌站点上线 | 品牌 B/C + 区域站点 |
| **Q4** | 运营赋能工具 | A/B 测试、数据看板 |
| **持续** | 技术优化 | 性能、监控、后台重构 |

---

_最后更新：2025-12-22_
